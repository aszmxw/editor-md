(function(t){function e(e){for(var o,a,c=e[0],l=e[1],s=e[2],u=0,h=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Editormd",{ref:"Editormd",attrs:{content:t.content,type:"editor"}})],1)},i=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-editor",attrs:{id:t.id}},[n("link",{attrs:{href:"editor.md/css/editormd.css",rel:"stylesheet"}}),n("link",{attrs:{href:"prism/prism.css",rel:"stylesheet"}}),n("textarea",{staticStyle:{display:"none"},domProps:{innerHTML:t._s(t.content)}}),t.showImg?n("BigImg",{attrs:{imgSrc:t.imgSrc},on:{clickit:function(e){t.showImg=!1}}}):t._e()],1)},c=[],l=(n("7db0"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("841c"),n("1276"),n("a23c")),s=n.n(l),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"img-view",on:{click:t.bigImg}},[n("div",{staticClass:"img-layer"}),n("div",{staticClass:"img"},[n("img",{attrs:{src:t.imgSrc}})])])])},u=[],h={props:["imgSrc"],methods:{bigImg:function(){this.$emit("clickit")}}},p=h,f=(n("ca08"),n("2877")),m=Object(f["a"])(p,d,u,!1,null,"4c56e19e",null),g=m.exports,w={name:"Editor",props:{content:{type:String,default:"###初始化成功"},type:{type:String,default:"editor"},keyword:{type:String,default:""},id:{type:String,default:"editor-md"},editorConfig:{type:Object,default:function(){var t=this;return{path:"editor.md/lib/",placeholder:"请使用 Markdown 语法",lineNumbers:!0,previewCodeHighlight:!1,height:1e3,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0,syncScrolling:"single",htmlDecode:!0,imageUpload:!0,imageFormats:["jpg","jpeg","gif","png","bmp","webp","JPG","JPEG","GIF","PNG","BMP","WEBP"],imageUploadURL:"/api/page/uploadImg",onload:function(){console.log("onload")},toolbarIcons:function(){return["undo","redo","|","bold","del","italic","quote","|","toc","flow","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","center","|","link","reference-link","image","video","code","code-block","table","datetime","html-entities","pagebreak","|","watch","preview","fullscreen","clear","search","|","help","info"]},toolbarIconsClass:{toc:"fa-bars ",flow:"fa-sitemap ",video:"fa-file-video-o",center:"fa-align-center"},toolbarHandlers:{toc:function(t){t.setCursor(0,0),t.replaceSelection("[TOC]\r\n\r\n")},video:function(t,e,n,o){t.replaceSelection('\r\n<video src="http://your-site.com/your.mp4" style="width: 100%; height: 100%;" controls="controls"></video>\r\n'),""===o&&t.setCursor(n.line,n.ch+1)},flow:function(t,e,n,o){var r="\n```flow\nst=>start: 用户登陆\nop=>operation: 登陆操作\ncond=>condition: 登陆成功 Yes or No?\ne=>end: 进入后台\n\nst->op->cond\ncond(yes)->e\ncond(no)->op\n```\n                          ";t.replaceSelection(r),""===o&&t.setCursor(n.line,n.ch+1)},center:function(t,e,n,o){t.replaceSelection("<center>"+o+"</center>"),""===o&&t.setCursor(n.line,n.ch+1)}},lang:{toolbar:{toc:"在最开头插入TOC，自动生成标题目录",flow:"插入思维导图",video:"插入视频",center:"居中"}},onchange:function(){t.deal_with_content()}}}}},components:{BigImg:g},data:function(){return{instance:null,showImg:!1,imgSrc:""}},computed:{},mounted:function(){var t=this;s()(["js/jquery.min.js","prism/prism.js","editor.md/lib/raphael.min.js","editor.md/lib/flowchart.min.js"],(function(){s()(["js/xss.min.js","editor.md/lib/marked.min.js","editor.md/lib/prettify.min.js","editor.md/lib/underscore.min.js","editor.md/lib/sequence-diagram.min.js","editor.md/lib/jquery.flowchart.min.js"],(function(){s()("editor.md/editormd.js",(function(){t.initEditor()}))}))}))},beforeDestroy:function(){for(var t=1;t<999;t++)window.clearInterval(t)},methods:{initEditor:function(){var t=this;this.$nextTick((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.editormd;e&&("editor"==t.type?t.instance=e(t.id,t.editorConfig):t.instance=e.markdownToHTML(t.id,t.editorConfig),t.deal_with_content())}))},insertValue:function(t){this.instance.insertValue(this.html_decode(t))},getMarkdown:function(){return this.instance.getMarkdown()},editor_unwatch:function(){return this.instance.unwatch()},editor_watch:function(){return this.instance.watch()},clear:function(){return this.instance.clear()},draft:function(){var t=this;setInterval((function(){localStorage.page_content=t.getMarkdown()}),6e4);var e=localStorage.page_content;e&&e.length>0&&(localStorage.removeItem("page_content"),t.$confirm(t.$t("draft_tips"),"",{showClose:!1}).then((function(){t.clear(),t.insertValue(e),localStorage.removeItem("page_content")})).catch((function(){localStorage.removeItem("page_content")})))},beforeunloadHandler:function(t){return t=t||window.event,t&&(t.returnValue="提示"),"提示"},deal_with_content:function(){var t=this;$.each($("#"+this.id+" table"),(function(){$(this).prop("outerHTML",'<div style="width: 100%;overflow-x: auto;">'+$(this).prop("outerHTML")+"</div>")})),$("#"+this.id+' a[href^="http"]').click((function(){var e=$(this).attr("href"),n=t.parseURL(e);return window.location.hostname==n.hostname&&window.location.pathname==n.pathname?(window.location.href=e,n.hash&&window.location.reload()):window.open(e),!1}));var e=$("#"+this.id+" p").width();e=e||722,$("#"+this.id+" table").each((function(){var t=$(this).get(0),n=t.rows.item(0).cells.length,o=Math.floor(e/n)-2;n<=5&&$(this).find("th").css("width",o.toString()+"px")})),$("#"+this.id+" img").click((function(){var e=$(this).attr("src");t.showImg=!0,t.imgSrc=e})),this.keyword&&$("#"+this.id).mark(this.keyword),Prism.highlightAll()},html_decode:function(t){var e="";return 0==t.length?"":(e=t.replace(/&gt;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&nbsp;/g," "),e=e.replace(/&#39;/g,"'"),e=e.replace(/&quot;/g,'"'),e)},parseURL:function(t){var e=document.createElement("a");return e.href=t,{source:t,protocol:e.protocol.replace(":",""),host:e.hostname,hostname:e.hostname,port:e.port,query:e.search,params:function(){for(var t,n={},o=e.search.replace(/^\?/,"").split("&"),r=o.length,i=0;i<r;i++)o[i]&&(t=o[i].split("="),n[t[0]]=t[1]);return n}(),hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),pathname:e.pathname.replace(/^([^\/])/,"/$1")}}}},v=w,b=Object(f["a"])(v,a,c,!1,null,null,null),y=b.exports,_={name:"App",components:{Editormd:y},data:function(){return{content:""}},methods:{get_content:function(){this.content=""}},mounted:function(){this.get_content()}},j=_,S=Object(f["a"])(j,r,i,!1,null,null,null),k=S.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(k)}}).$mount("#app")},be83:function(t,e,n){},ca08:function(t,e,n){"use strict";n("be83")}});
//# sourceMappingURL=app.42d06aca.js.map